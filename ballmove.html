<html>
 <head>
  <script type="application/x-javascript">

var x = 75;
var y = 75;
var dx, dy = 0;
var intervalID = 0;
var canvas, ctx;

function init() {
    canvas = document.getElementById("canvas");
    ctx = canvas.getContext("2d");
}

function startdraw() {
    x = 75;
    y = 75;
    dx = parseFloat(document.getElementById("dx").value);
    dy = parseFloat(document.getElementById("dy").value);
    intervalID = setInterval(draw, 20);
}

function abort() {
    clearInterval(intervalID);
    ctx.clearRect(0,0,300,300);
}

function draw() {
    ctx.save();
    ctx.clearRect(0,0,300,300);
    ctx.fillStyle = 'black';
    ctx.arc(x,y,10,0,Math.PI*2,true); 
    ctx.fill();
    x += dx;
    y += dy;
    ctx.restore();
}

  </script>
 </head>
 <body onload="init()">
   <canvas id="canvas" width="300" height="300" style="border:1px solid;"></canvas>
   <br>
   <form>
     dx: <input type="text" id="dx" size="4" value="1"/>
     dy: <input type="text" id="dy" size="4" value="2"/>
     <input type="submit" onclick="startdraw(); return false;" value="draw">
     <input type="submit" onclick="abort(); return false;" value="abort">
 </body>
</html>
